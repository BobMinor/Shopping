<!DOCTYPE html>
<html>
<head>
<script src="js/jquery.js" type="text/javascript"></script> 
<script src="js/underscore.js" type="text/javascript"></script> 
<script src="js/backbone.js" type="text/javascript"></script>
 <meta charset="utf-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link href="css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
   <script src="js/bootstrap.min.js"></script>
<h1>Supermarket <small>My Shopping List</small></h1>
 <div class="list"></div>
 <script type="text/template" id="tpl-add-product">
<table class="table table-hover table-bordered table-condensed">
                    
                    <tr>
                        <th >Item</th>
                        <th>Quantity</th>
                        <th></th>
                     </tr>
                  <tr>
                   <td id="product-name"></td>
                   <td> <p  id="basket-value">0</p></td>
                     <td > 
                        
                        <input type="button" id="add-product" value="Add" class="btn btn-primary"/>
                        
                    </td>
                    
                    </tr>
                    
   </table>  
   </script>               
<script type="text/javascript">
       
        var Product = Backbone.Model.extend({
            defaults: function(){
                return {
                    name: ''

                }
            }
        });
        var ProductBasket = Backbone.Collection.extend({model:Product});
        var product = new Product({'name':'Soap'});
        var productBasket=new ProductBasket();
            
        

                var Router = Backbone.View.extend({
                  
                el: '.list',
                    initialize: function(){

                    this.counter = 0; // total number of items added thus far

                    this.render();
                    },
                      render : function () {

                            var template = _.template( $('#tpl-add-product').html() );
                            this.$el.html(template);
                        document.getElementById("product-name").innerHTML = product.get('name');
                              return this;
                                           },
                       events: {
                                   "click input[type=button]": "addToBasket"
                                 },
                        addToBasket: function(  ){
                            productBasket.add({'name':'soap'});
                           this.counter=_.size(productBasket);
                     document.getElementById("basket-value").innerHTML = this.counter;
                       
                      
                        }

                    });  
 
                
               var router = new Router();
               
        
</script>
</body>
</html> 
